# پروژه NewsBot

این پروژه با هدف جمع‌آوری اخبار از فیدهای RSS و توییت‌ها (از طریق Nitter یا روش مشابه) و ذخیره آن‌ها در یک پایگاه داده طراحی شده است. در ادامه، هدف پروژه، زیرساخت‌های استفاده‌شده، ساختار پروژه، طراحی دیتابیس و نقشه راه توسعه آورده شده است.

---

## 1. هدف پروژه

- **جمع‌آوری اخبار:**  
  دریافت اخبار از فیدهای RSS وب‌سایت‌های خبری.
  
- **جمع‌آوری توییت‌ها:**  
  دریافت توییت‌ها (با استفاده از Nitter یا روش‌های مشابه).

- **ذخیره‌سازی داده‌ها:**  
  ذخیره اخبار و توییت‌ها در یک دیتابیس یکپارچه (در مرحله اول از SQLite استفاده می‌شود و در آینده امکان مهاجرت به PostgreSQL یا MySQL وجود دارد).

- **ارسال بسته خبری:**  
  ارائه بسته‌های خبری به کاربران (فعلاً از طریق ربات تلگرام) به صورت دوره‌ای یا بر اساس درخواست.

---

## 2. زیرساخت‌ها و محیط اجرا

- **محیط توسعه (Local):**  
  - سیستم: ویندوز 11 (64 بیتی)
  - نسخه پایتون: 3.9 (یا نسخه معادل که در سرور نیز استفاده خواهد شد)
  - IDE: PyCharm (توصیه‌شده) یا هر ادیتور دیگر
  - ابزارهای مورد نیاز: Git، محیط مجازی (venv)

- **محیط سرور (Production):**  
  - سیستم: اوبونتو 24 روی سرور ابری
  - نسخه پایتون: همان نسخه استفاده‌شده در محیط توسعه
  - انتقال کد از طریق Git یا ابزارهای Deployment (مانند SFTP)

---

## 3. وضعیت نصب و راه‌اندازی (Local)

- **نصب پایتون 3.9** (نسخه 64 بیتی) روی ویندوز
- **نصب Git** جهت کنترل نسخه
- **ایجاد محیط مجازی:**  
  ```bash
  python -m venv venv
  venv\Scripts\activate
  ```
- **مدیریت وابستگی‌ها:**  
  ایجاد فایل `requirements.txt` شامل کتابخانه‌های مورد نیاز:
  ```plaintext
  SQLAlchemy==1.4.0
  feedparser==6.0.10
  python-telegram-bot==13.15
  APScheduler==3.7.0
  ```
  و نصب وابستگی‌ها:
  ```bash
  pip install -r requirements.txt
  ```

---

## 4. راه‌اندازی Git در پروژه

- در هنگام ایجاد پروژه، گزینه **"Create Git Repository"** را در PyCharm فعال کنید.
- برای راه‌اندازی Git در پروژه، این دستورات را در **ترمینال PyCharm** اجرا کنید:
  ```bash
  git init
  git add .
  git commit -m "Initial commit"
  ```
- در صورت استفاده از GitHub یا GitLab، پروژه را به مخزن آنلاین متصل کنید:
  ```bash
  git remote add origin https://github.com/hamidsh/newsbot.git
  git branch -M main
  git push -u origin main
  ```
- Git به شما امکان می‌دهد که به راحتی کد را بین محیط توسعه (ویندوز) و سرور اوبونتو **انتقال دهید** و از مزایای کنترل نسخه بهره ببرید.

- **📌 لینک مخزن پروژه:** [GitHub Repository](https://github.com/hamidsh/newsbot.git)

---

## 5. ساختار پیشنهادی پروژه

```
newsbot/
├── venv/                 # محیط مجازی (Local)
├── src/
│   ├── __init__.py
│   ├── config.py         # تنظیمات کلی پروژه (مسیر دیتابیس، اطلاعات اتصال و ...)
│   ├── db.py             # مدیریت اتصال به دیتابیس و ایجاد Session
│   ├── models.py         # تعریف مدل دیتابیس (مثلاً مدل Post)
│   ├── fetchers/         # ماژول‌های دریافت داده (RSS، توییت‌ها و ...)
│   │   ├── __init__.py
│   │   ├── rss_fetcher.py    # دریافت و نرمالایز کردن اخبار از RSS
│   │   └── tweet_fetcher.py  # دریافت توییت‌ها (از Nitter یا API توییتر)
│   ├── news_package.py   # منطق ساخت بسته خبری (ترکیب و فیلتر کردن پست‌ها)
│   └── telegram_bot/     # ماژول‌های مرتبط با ربات تلگرام
├── tests/                # تست‌های واحد و یکپارچه
│   └── test_models.py
├── requirements.txt
└── README.md
```

---

## 6. هماهنگی بین مراحل توسعه

- **پس از هر مرحله از توسعه، سوالی برای تأیید نهایی از کاربر پرسیده خواهد شد.**
- **در صورت تأیید، اطلاعات پروژه و مرحله فعلی در این فایل به‌روز خواهد شد.**
- **این تضمین می‌کند که پروژه همیشه همگام و به‌روز بماند و مراحل بعدی بر اساس آخرین وضعیت برنامه‌ریزی شوند.**

---

## 7. نتیجه‌گیری

این پروژه به صورت ماژولار طراحی شده تا هر بخش (مدل دیتابیس، دریافت اخبار و توییت‌ها، ربات تلگرام، بسته‌بندی اخبار و زمان‌بندی) به صورت مستقل توسعه، تست و بهبود یابد. هدف نهایی، ایجاد سیستمی یکپارچه و قابل توسعه برای جمع‌آوری و ارسال اخبار به کاربران است.

---

*تاریخ آخرین به‌روزرسانی: [تاریخ به‌روزرسانی]*  
*در صورت بروز تغییرات یا تصمیمات جدید، این فایل به‌روز خواهد شد.*

